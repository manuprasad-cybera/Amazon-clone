[debug] [2021-03-22T15:28:35.883Z] ----------------------------------------------------------------------
[debug] [2021-03-22T15:28:35.886Z] Command:       /usr/local/Cellar/node/15.9.0/bin/node /usr/local/bin/firebase emulators:start
[debug] [2021-03-22T15:28:35.886Z] CLI Version:   9.6.1
[debug] [2021-03-22T15:28:35.886Z] Platform:      darwin
[debug] [2021-03-22T15:28:35.886Z] Node Version:  v15.9.0
[debug] [2021-03-22T15:28:35.888Z] Time:          Mon Mar 22 2021 20:58:35 GMT+0530 (India Standard Time)
[debug] [2021-03-22T15:28:35.888Z] ----------------------------------------------------------------------
[debug] [2021-03-22T15:28:35.888Z] 
[debug] [2021-03-22T15:28:35.891Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2021-03-22T15:28:35.920Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2021-03-22T15:28:35.921Z] > authorizing via signed-in user
[info] i  emulators: Starting emulators: functions, hosting {"metadata":{"emulator":{"name":"hub"},"message":"Starting emulators: functions, hosting"}}
[warn] ⚠  emulators: It seems that you are running multiple instances of the emulator suite for project challenge-dcc77. This may result in unexpected behavior. 
[debug] [2021-03-22T15:28:35.948Z] [hub] writing locator at /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/hub-challenge-dcc77.json
[warn] ⚠  functions: The following emulators are not running, calls to these services from the Functions emulator will affect production: auth, firestore, database, pubsub {"metadata":{"emulator":{"name":"functions"},"message":"The following emulators are not running, calls to these services from the Functions emulator will affect production: \u001b[1mauth, firestore, database, pubsub\u001b[22m"}}
[warn] ⚠  Your requested "node" version "12" doesn't match your global version "15" {"metadata":{"emulator":{"name":"functions"},"message":"Your requested \"node\" version \"12\" doesn't match your global version \"15\""}}
[debug] [2021-03-22T15:28:36.058Z] defaultcredentials: writing to file /Users/manuprasad/.config/firebase/manu_whattodo_gmail.com_application_default_credentials.json
[debug] [2021-03-22T15:28:36.066Z] Setting GAC to /Users/manuprasad/.config/firebase/manu_whattodo_gmail.com_application_default_credentials.json {"metadata":{"emulator":{"name":"functions"},"message":"Setting GAC to /Users/manuprasad/.config/firebase/manu_whattodo_gmail.com_application_default_credentials.json"}}
[debug] [2021-03-22T15:28:36.068Z] > refreshing access token with scopes: []
[debug] [2021-03-22T15:28:36.069Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-03-22T15:28:37.223Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2021-03-22T15:28:37.223Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2021-03-22T15:28:51.486Z] Failed to get Admin SDK config for challenge-dcc77, falling back to cache Failed to get Admin SDK for Firebase project challenge-dcc77. Please make sure the project exists and your account has permission to access it. {"name":"FirebaseError","children":[],"exit":2,"message":"Failed to get Admin SDK for Firebase project challenge-dcc77. Please make sure the project exists and your account has permission to access it.","original":{"name":"FirebaseError","children":[],"exit":1,"message":"Authentication Error: Your credentials are no longer valid. Please run \u001b[1mfirebase login --reauth\u001b[22m\n\nFor CI servers and headless environments, generate a new token with \u001b[1mfirebase login:ci\u001b[22m","status":500},"status":500}
[debug] [2021-03-22T15:28:51.499Z] > refreshing access token with scopes: []
[debug] [2021-03-22T15:28:51.499Z] >>> HTTP REQUEST POST https://www.googleapis.com/oauth2/v3/token  
 <request body omitted>
[debug] [2021-03-22T15:28:51.829Z] <<< HTTP RESPONSE 200 {"date":"Mon, 22 Mar 2021 15:28:51 GMT","cache-control":"no-cache, no-store, max-age=0, must-revalidate","expires":"Mon, 01 Jan 1990 00:00:00 GMT","pragma":"no-cache","content-type":"application/json; charset=utf-8","vary":"X-Origin, Referer, Origin,Accept-Encoding","server":"scaffolding on HTTPServer2","x-xss-protection":"0","x-frame-options":"SAMEORIGIN","x-content-type-options":"nosniff","alt-svc":"h3-29=\":443\"; ma=2592000,h3-T051=\":443\"; ma=2592000,h3-Q050=\":443\"; ma=2592000,h3-Q046=\":443\"; ma=2592000,h3-Q043=\":443\"; ma=2592000,quic=\":443\"; ma=2592000; v=\"46,43\"","accept-ranges":"none","transfer-encoding":"chunked"}
[debug] [2021-03-22T15:28:51.859Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/challenge-dcc77/webApps/-/config [none]
[debug] [2021-03-22T15:28:53.352Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/challenge-dcc77/webApps/-/config 200
[debug] [2021-03-22T15:28:53.353Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/challenge-dcc77/webApps/-/config {"projectId":"challenge-dcc77","appId":"1:46743737902:web:b0b5104a1759583dc5f1bf","databaseURL":"https://challenge-dcc77-default-rtdb.firebaseio.com","storageBucket":"challenge-dcc77.appspot.com","locationId":"asia-south1","apiKey":"AIzaSyBesg71Drmkj6j1WAMbio_XAaibFfJ_gJo","authDomain":"challenge-dcc77.firebaseapp.com","messagingSenderId":"46743737902","measurementId":"G-QP531TC8HJ"}
[info] i  hosting: Serving hosting files from: build {"metadata":{"emulator":{"name":"hosting"},"message":"Serving hosting files from: \u001b[1mbuild\u001b[22m"}}
[info] ✔  hosting: Local server: http://localhost:5000 {"metadata":{"emulator":{"name":"hosting"},"message":"Local server: \u001b[4m\u001b[1mhttp://localhost:5000\u001b[22m\u001b[24m"}}
[debug] [2021-03-22T15:28:53.651Z] Ignoring unsupported arg: auto_download {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: auto_download"}}
[debug] [2021-03-22T15:28:53.651Z] Ignoring unsupported arg: port {"metadata":{"emulator":{"name":"ui"},"message":"Ignoring unsupported arg: port"}}
[debug] [2021-03-22T15:28:53.651Z] Starting Emulator UI with command {"binary":"node","args":["/Users/manuprasad/.cache/firebase/emulators/ui-v1.4.2/server.bundle.js"],"optionalArgs":[],"joinArgs":false} {"metadata":{"emulator":{"name":"ui"},"message":"Starting Emulator UI with command {\"binary\":\"node\",\"args\":[\"/Users/manuprasad/.cache/firebase/emulators/ui-v1.4.2/server.bundle.js\"],\"optionalArgs\":[],\"joinArgs\":false}"}}
[info] i  ui: Emulator UI logging to ui-debug.log {"metadata":{"emulator":{"name":"ui"},"message":"Emulator UI logging to \u001b[1mui-debug.log\u001b[22m"}}
[debug] [2021-03-22T15:28:54.037Z] Web / API server started at http://localhost:4000
 {"metadata":{"emulator":{"name":"ui"},"message":"Web / API server started at http://localhost:4000\n"}}
[info] i  functions: Watching "/Users/manuprasad/amazon-clone/functions" for Cloud Functions... {"metadata":{"emulator":{"name":"functions"},"message":"Watching \"/Users/manuprasad/amazon-clone/functions\" for Cloud Functions..."}}
[debug] [2021-03-22T15:28:54.186Z] [worker-pool] addWorker(~diagnostic~) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(~diagnostic~)"}}
[debug] [2021-03-22T15:28:54.187Z] [worker-pool] Adding worker with key ~diagnostic~, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key ~diagnostic~, total=1"}}
[debug] [2021-03-22T15:28:54.187Z] [worker-pool] submitWork(triggerId=) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=)"}}
[debug] [2021-03-22T15:28:54.188Z] [worker-~diagnostic~-7ac3b623-cac9-418b-9f5e-9ee0c5675763]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2162.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7ac3b623-cac9-418b-9f5e-9ee0c5675763]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2162.sock"}}
[debug] [2021-03-22T15:28:54.188Z] [worker-~diagnostic~-7ac3b623-cac9-418b-9f5e-9ee0c5675763]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7ac3b623-cac9-418b-9f5e-9ee0c5675763]: BUSY"}}
[debug] [2021-03-22T15:28:54.618Z] [runtime-status] [2162] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:28:54.620Z] [runtime-status] [2162] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:28:54.633Z] [runtime-status] [2162] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:28:54.637Z] [runtime-status] [2162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:28:54.639Z] [runtime-status] [2162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:28:54.642Z] [runtime-status] [2162] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:28:54.643Z] [runtime-status] [2162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:28:54.808Z] [runtime-status] [2162] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:28:54.809Z] [runtime-status] [2162] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:28:54.809Z] [runtime-status] [2162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:28:54.814Z] [runtime-status] [2162] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:28:54.815Z] [runtime-status] [2162] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:28:54.816Z] [runtime-status] [2162] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"message":"[runtime-status] [2162] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[info] ✔  functions[api]: http function initialized (http://localhost:5001/challenge-dcc77/us-central1/api). {"metadata":{"emulator":{"name":"functions"},"message":"\u001b[1mhttp\u001b[22m function initialized (http://localhost:5001/challenge-dcc77/us-central1/api)."}}
[info] 
┌─────────────────────────────────────────────────────────────┐
│ ✔  All emulators ready! It is now safe to connect your app. │
│ i  View Emulator UI at http://localhost:4000                │
└─────────────────────────────────────────────────────────────┘

┌───────────┬────────────────┬─────────────────────────────────┐
│ Emulator  │ Host:Port      │ View in Emulator UI             │
├───────────┼────────────────┼─────────────────────────────────┤
│ Functions │ localhost:5001 │ http://localhost:4000/functions │
├───────────┼────────────────┼─────────────────────────────────┤
│ Hosting   │ localhost:5000 │ n/a                             │
└───────────┴────────────────┴─────────────────────────────────┘
  Emulator Hub running at localhost:4400
  Other reserved ports: 4500

Issues? Report them at https://github.com/firebase/firebase-tools/issues and attach the *-debug.log files.
 
[debug] [2021-03-22T15:28:55.265Z] [worker-~diagnostic~-7ac3b623-cac9-418b-9f5e-9ee0c5675763]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-~diagnostic~-7ac3b623-cac9-418b-9f5e-9ee0c5675763]: IDLE"}}
[debug] [2021-03-22T15:29:24.147Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:29:24.147Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:29:24.149Z] Accepted request GET /challenge-dcc77/us-central1/api --> api
[debug] [2021-03-22T15:29:24.182Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:29:24.183Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:29:24.184Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:29:24.184Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock"}}
[debug] [2021-03-22T15:29:24.184Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: BUSY"}}
[debug] [2021-03-22T15:29:24.894Z] [runtime-status] [2175] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:29:24.897Z] [runtime-status] [2175] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:29:24.904Z] [runtime-status] [2175] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:29:24.912Z] [runtime-status] [2175] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:29:24.916Z] [runtime-status] [2175] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:29:24.921Z] [runtime-status] [2175] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:29:24.926Z] [runtime-status] [2175] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:29:25.112Z] [runtime-status] [2175] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:29:25.113Z] [runtime-status] [2175] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:29:25.113Z] [runtime-status] [2175] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:29:25.114Z] [runtime-status] [2175] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:29:25.114Z] [runtime-status] [2175] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:29:25.115Z] [runtime-status] [2175] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:29:25.480Z] [runtime-status] [2175] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:29:25.481Z] [runtime-status] [2175] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:29:25.481Z] [runtime-status] [2175] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:29:25.488Z] [runtime-status] [2175] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock"}}
[debug] [2021-03-22T15:29:25.496Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:29:25.497Z] [functions] Got req.url=/challenge-dcc77/us-central1/api, mapping to path=/ {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api, mapping to path=/"}}
[debug] [2021-03-22T15:29:25.515Z] [runtime-status] [2175] Ephemeral server handling GET request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Ephemeral server handling GET request"}}
[debug] [2021-03-22T15:29:25.561Z] [runtime-status] [2175] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:29:25.575Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: IDLE"}}
[debug] [2021-03-22T15:29:25.576Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:29:25.604Z] Functions emulator received unknown request at path /favicon.ico
[debug] [2021-03-22T15:33:36.805Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:33:36.805Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:33:36.805Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=101897 --> api
[debug] [2021-03-22T15:33:36.806Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:33:36.806Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock"}}
[debug] [2021-03-22T15:33:36.806Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: BUSY"}}
[debug] [2021-03-22T15:33:36.809Z] [runtime-status] [2175] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:33:36.809Z] [runtime-status] [2175] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:33:36.809Z] [runtime-status] [2175] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:33:36.810Z] [runtime-status] [2175] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock"}}
[debug] [2021-03-22T15:33:36.812Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:33:36.813Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=101897, mapping to path=/payments/create?total=101897 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=101897, mapping to path=/payments/create?total=101897"}}
[debug] [2021-03-22T15:33:36.821Z] [runtime-status] [2175] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Ephemeral server handling POST request"}}
[info] >  payment recived total of  101897 {"user":"payment recived total of  101897","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  101897"}}
[debug] [2021-03-22T15:33:36.835Z] [runtime-status] [2175] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:33:38.383Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: IDLE"}}
[debug] [2021-03-22T15:33:38.383Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:33:41.256Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:33:41.256Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:33:41.256Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-22T15:33:41.256Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:33:41.258Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock"}}
[debug] [2021-03-22T15:33:41.258Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: BUSY"}}
[debug] [2021-03-22T15:33:41.259Z] [runtime-status] [2175] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:33:41.260Z] [runtime-status] [2175] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:33:41.260Z] [runtime-status] [2175] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:33:41.260Z] [runtime-status] [2175] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2175.sock"}}
[debug] [2021-03-22T15:33:41.262Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:33:41.262Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-22T15:33:41.265Z] [runtime-status] [2175] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Ephemeral server handling POST request"}}
[info] >  payment recived total of  0 {"user":"payment recived total of  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  0"}}
[debug] [2021-03-22T15:33:41.267Z] [runtime-status] [2175] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2175] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:33:41 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:33:41 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:33:41 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_92j3nmULPVvYFZ', {"user":"      'request-id': 'req_92j3nmULPVvYFZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_92j3nmULPVvYFZ',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_92j3nmULPVvYFZ' {"user":"    requestId: 'req_92j3nmULPVvYFZ'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_92j3nmULPVvYFZ'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:33:41 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:33:41 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:33:41 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_92j3nmULPVvYFZ', {"user":"    'request-id': 'req_92j3nmULPVvYFZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_92j3nmULPVvYFZ',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_92j3nmULPVvYFZ', {"user":"  requestId: 'req_92j3nmULPVvYFZ',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_92j3nmULPVvYFZ',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:33:41.692Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: exited"}}
[debug] [2021-03-22T15:33:41.692Z] [worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-178f3b11-4e19-46aa-ac5a-c279826dae4a]: FINISHED"}}
[debug] [2021-03-22T15:33:41.692Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:33:53.285Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:33:53.285Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:33:53.285Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=61895.00000000001 --> api
[debug] [2021-03-22T15:33:53.286Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:33:53.299Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:33:53.299Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:33:53.299Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:33:53.300Z] [worker-api-d9279514-135a-4e89-9ecd-f1681d27098a]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2252.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d9279514-135a-4e89-9ecd-f1681d27098a]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2252.sock"}}
[debug] [2021-03-22T15:33:53.300Z] [worker-api-d9279514-135a-4e89-9ecd-f1681d27098a]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d9279514-135a-4e89-9ecd-f1681d27098a]: BUSY"}}
[debug] [2021-03-22T15:33:53.900Z] [runtime-status] [2252] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:33:53.904Z] [runtime-status] [2252] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:33:53.909Z] [runtime-status] [2252] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:33:53.914Z] [runtime-status] [2252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:33:53.916Z] [runtime-status] [2252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:33:53.918Z] [runtime-status] [2252] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:33:53.918Z] [runtime-status] [2252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:33:54.011Z] [runtime-status] [2252] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:33:54.011Z] [runtime-status] [2252] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:33:54.011Z] [runtime-status] [2252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:33:54.013Z] [runtime-status] [2252] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:33:54.013Z] [runtime-status] [2252] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:33:54.013Z] [runtime-status] [2252] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:33:54.278Z] [runtime-status] [2252] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:33:54.279Z] [runtime-status] [2252] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:33:54.279Z] [runtime-status] [2252] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:33:54.290Z] [runtime-status] [2252] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2252.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2252.sock"}}
[debug] [2021-03-22T15:33:54.291Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:33:54.292Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=61895.00000000001, mapping to path=/payments/create?total=61895.00000000001 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=61895.00000000001, mapping to path=/payments/create?total=61895.00000000001"}}
[debug] [2021-03-22T15:33:54.305Z] [runtime-status] [2252] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Ephemeral server handling POST request"}}
[info] >  payment recived total of  61895.00000000001 {"user":"payment recived total of  61895.00000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  61895.00000000001"}}
[debug] [2021-03-22T15:33:54.332Z] [runtime-status] [2252] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2252] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 61895.00000000001 {"user":"StripeInvalidRequestError: Invalid integer: 61895.00000000001","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 61895.00000000001"}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 61895.00000000001', {"user":"    message: 'Invalid integer: 61895.00000000001',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 61895.00000000001',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:33:54 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:33:54 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:33:54 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '254', {"user":"      'content-length': '254',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '254',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_SnI4kj7IEz0xJu', {"user":"      'request-id': 'req_SnI4kj7IEz0xJu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_SnI4kj7IEz0xJu',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_SnI4kj7IEz0xJu' {"user":"    requestId: 'req_SnI4kj7IEz0xJu'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_SnI4kj7IEz0xJu'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:33:54 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:33:54 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:33:54 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '254', {"user":"    'content-length': '254',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '254',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_SnI4kj7IEz0xJu', {"user":"    'request-id': 'req_SnI4kj7IEz0xJu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_SnI4kj7IEz0xJu',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_SnI4kj7IEz0xJu', {"user":"  requestId: 'req_SnI4kj7IEz0xJu',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_SnI4kj7IEz0xJu',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:33:55.214Z] [worker-api-d9279514-135a-4e89-9ecd-f1681d27098a]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d9279514-135a-4e89-9ecd-f1681d27098a]: exited"}}
[debug] [2021-03-22T15:33:55.214Z] [worker-api-d9279514-135a-4e89-9ecd-f1681d27098a]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-d9279514-135a-4e89-9ecd-f1681d27098a]: FINISHED"}}
[debug] [2021-03-22T15:33:55.214Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:36:39.541Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:36:39.542Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:36:39.542Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-22T15:36:39.542Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:36:39.550Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:36:39.551Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:36:39.551Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:36:39.551Z] [worker-api-66848257-6826-456b-8d11-1b2b138ba3cf]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2268.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-66848257-6826-456b-8d11-1b2b138ba3cf]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2268.sock"}}
[debug] [2021-03-22T15:36:39.551Z] [worker-api-66848257-6826-456b-8d11-1b2b138ba3cf]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-66848257-6826-456b-8d11-1b2b138ba3cf]: BUSY"}}
[debug] [2021-03-22T15:36:40.844Z] [runtime-status] [2268] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:36:40.848Z] [runtime-status] [2268] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:36:40.861Z] [runtime-status] [2268] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:36:40.865Z] [runtime-status] [2268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:36:40.869Z] [runtime-status] [2268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:36:40.872Z] [runtime-status] [2268] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:36:40.873Z] [runtime-status] [2268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:36:40.980Z] [runtime-status] [2268] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:36:40.981Z] [runtime-status] [2268] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:36:40.982Z] [runtime-status] [2268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:36:40.984Z] [runtime-status] [2268] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:36:40.985Z] [runtime-status] [2268] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:36:40.985Z] [runtime-status] [2268] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:36:41.517Z] [runtime-status] [2268] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:36:41.518Z] [runtime-status] [2268] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:36:41.518Z] [runtime-status] [2268] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:36:41.543Z] [runtime-status] [2268] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2268.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2268.sock"}}
[debug] [2021-03-22T15:36:41.547Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:36:41.547Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-22T15:36:41.567Z] [runtime-status] [2268] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Ephemeral server handling POST request"}}
[info] >  payment recived total of  0 {"user":"payment recived total of  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  0"}}
[debug] [2021-03-22T15:36:41.664Z] [runtime-status] [2268] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2268] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:36:42 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:36:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:36:42 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_Cas9d7fbKEZX30', {"user":"      'request-id': 'req_Cas9d7fbKEZX30',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_Cas9d7fbKEZX30',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_Cas9d7fbKEZX30' {"user":"    requestId: 'req_Cas9d7fbKEZX30'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_Cas9d7fbKEZX30'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:36:42 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:36:42 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:36:42 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_Cas9d7fbKEZX30', {"user":"    'request-id': 'req_Cas9d7fbKEZX30',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_Cas9d7fbKEZX30',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_Cas9d7fbKEZX30', {"user":"  requestId: 'req_Cas9d7fbKEZX30',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_Cas9d7fbKEZX30',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:36:42.515Z] [worker-api-66848257-6826-456b-8d11-1b2b138ba3cf]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-66848257-6826-456b-8d11-1b2b138ba3cf]: exited"}}
[debug] [2021-03-22T15:36:42.515Z] [worker-api-66848257-6826-456b-8d11-1b2b138ba3cf]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-66848257-6826-456b-8d11-1b2b138ba3cf]: FINISHED"}}
[debug] [2021-03-22T15:36:42.515Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:38:43.071Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:38:43.071Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:38:43.071Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=8997 --> api
[debug] [2021-03-22T15:38:43.072Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:38:43.079Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:38:43.079Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:38:43.080Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:38:43.080Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:38:43.080Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY"}}
[debug] [2021-03-22T15:38:43.385Z] [runtime-status] [2291] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:38:43.385Z] [runtime-status] [2291] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:38:43.386Z] [runtime-status] [2291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:38:43.386Z] [runtime-status] [2291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:38:43.391Z] [runtime-status] [2291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:38:43.395Z] [runtime-status] [2291] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:38:43.395Z] [runtime-status] [2291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:38:43.467Z] [runtime-status] [2291] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:38:43.469Z] [runtime-status] [2291] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:38:43.470Z] [runtime-status] [2291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:38:43.473Z] [runtime-status] [2291] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:38:43.474Z] [runtime-status] [2291] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:38:43.474Z] [runtime-status] [2291] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:38:43.627Z] [runtime-status] [2291] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:38:43.628Z] [runtime-status] [2291] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:38:43.628Z] [runtime-status] [2291] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:38:43.634Z] [runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:38:43.640Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:38:43.640Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-03-22T15:38:43.658Z] [runtime-status] [2291] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server handling POST request"}}
[info] >  payment recived total of  8997 {"user":"payment recived total of  8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  8997"}}
[debug] [2021-03-22T15:38:43.671Z] [runtime-status] [2291] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:38:44.696Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE"}}
[debug] [2021-03-22T15:38:44.696Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:41:45.794Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:41:45.794Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:41:45.794Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=8997 --> api
[debug] [2021-03-22T15:41:45.795Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:41:45.795Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:41:45.795Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY"}}
[debug] [2021-03-22T15:41:45.796Z] [runtime-status] [2291] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:41:45.796Z] [runtime-status] [2291] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:41:45.796Z] [runtime-status] [2291] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:41:45.797Z] [runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:41:45.798Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:41:45.798Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-03-22T15:41:45.802Z] [runtime-status] [2291] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server handling POST request"}}
[info] >  payment recived total of  8997 {"user":"payment recived total of  8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  8997"}}
[debug] [2021-03-22T15:41:45.804Z] [runtime-status] [2291] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:41:46.839Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE"}}
[debug] [2021-03-22T15:41:46.839Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:41:46.889Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:41:46.890Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:41:46.890Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=8997 --> api
[debug] [2021-03-22T15:41:46.890Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:41:46.890Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:41:46.890Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY"}}
[debug] [2021-03-22T15:41:46.894Z] [runtime-status] [2291] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:41:46.895Z] [runtime-status] [2291] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:41:46.895Z] [runtime-status] [2291] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:41:46.895Z] [runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:41:46.896Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:41:46.896Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-03-22T15:41:46.899Z] [runtime-status] [2291] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server handling POST request"}}
[info] >  payment recived total of  8997 {"user":"payment recived total of  8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  8997"}}
[debug] [2021-03-22T15:41:46.900Z] [runtime-status] [2291] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:41:47.374Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE"}}
[debug] [2021-03-22T15:41:47.374Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:42:21.934Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:42:21.934Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:42:21.935Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=8997 --> api
[debug] [2021-03-22T15:42:21.935Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:42:21.935Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:42:21.935Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY"}}
[debug] [2021-03-22T15:42:21.937Z] [runtime-status] [2291] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:42:21.938Z] [runtime-status] [2291] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:42:21.938Z] [runtime-status] [2291] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:42:21.941Z] [runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:42:21.953Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:42:21.954Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-03-22T15:42:21.959Z] [runtime-status] [2291] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server handling POST request"}}
[info] >  payment recived total of  8997 {"user":"payment recived total of  8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  8997"}}
[debug] [2021-03-22T15:42:21.961Z] [runtime-status] [2291] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:42:22.443Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE"}}
[debug] [2021-03-22T15:42:22.443Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:42:24.885Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:42:24.885Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:42:24.885Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=8997 --> api
[debug] [2021-03-22T15:42:24.885Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:42:24.885Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:42:24.885Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY"}}
[debug] [2021-03-22T15:42:24.887Z] [runtime-status] [2291] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:42:24.887Z] [runtime-status] [2291] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:42:24.887Z] [runtime-status] [2291] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:42:24.887Z] [runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:42:24.888Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:42:24.889Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-03-22T15:42:24.892Z] [runtime-status] [2291] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server handling POST request"}}
[info] >  payment recived total of  8997 {"user":"payment recived total of  8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  8997"}}
[debug] [2021-03-22T15:42:24.893Z] [runtime-status] [2291] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:42:25.356Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE"}}
[debug] [2021-03-22T15:42:25.357Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:42:39.014Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:42:39.014Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:42:39.015Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=8997 --> api
[debug] [2021-03-22T15:42:39.015Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:42:39.015Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:42:39.015Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY"}}
[debug] [2021-03-22T15:42:39.018Z] [runtime-status] [2291] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:42:39.018Z] [runtime-status] [2291] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:42:39.018Z] [runtime-status] [2291] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:42:39.019Z] [runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:42:39.020Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:42:39.020Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=8997, mapping to path=/payments/create?total=8997"}}
[debug] [2021-03-22T15:42:39.024Z] [runtime-status] [2291] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server handling POST request"}}
[info] >  payment recived total of  8997 {"user":"payment recived total of  8997","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  8997"}}
[debug] [2021-03-22T15:42:39.031Z] [runtime-status] [2291] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:42:39.506Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: IDLE"}}
[debug] [2021-03-22T15:42:39.506Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:44:16.642Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:44:16.642Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:44:16.642Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-22T15:44:16.642Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:44:16.643Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:44:16.643Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: BUSY"}}
[debug] [2021-03-22T15:44:16.643Z] [runtime-status] [2291] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:44:16.644Z] [runtime-status] [2291] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:44:16.644Z] [runtime-status] [2291] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:44:16.644Z] [runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2291.sock"}}
[debug] [2021-03-22T15:44:16.645Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:44:16.646Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-22T15:44:16.651Z] [runtime-status] [2291] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server handling POST request"}}
[info] >  payment recived total of  0 {"user":"payment recived total of  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  0"}}
[debug] [2021-03-22T15:44:16.652Z] [runtime-status] [2291] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2291] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:44:17 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:44:17 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:44:17 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_1mEyorLWRUTfmy', {"user":"      'request-id': 'req_1mEyorLWRUTfmy',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_1mEyorLWRUTfmy',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_1mEyorLWRUTfmy' {"user":"    requestId: 'req_1mEyorLWRUTfmy'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_1mEyorLWRUTfmy'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:44:17 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:44:17 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:44:17 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_1mEyorLWRUTfmy', {"user":"    'request-id': 'req_1mEyorLWRUTfmy',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_1mEyorLWRUTfmy',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_1mEyorLWRUTfmy', {"user":"  requestId: 'req_1mEyorLWRUTfmy',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_1mEyorLWRUTfmy',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:44:17.467Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: exited"}}
[debug] [2021-03-22T15:44:17.468Z] [worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-7f980caf-d8d2-4cf6-9bf4-6f8c294978d8]: FINISHED"}}
[debug] [2021-03-22T15:44:17.468Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:45:04.154Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:45:04.154Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:45:04.154Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-03-22T15:45:04.154Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:45:04.163Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:45:04.164Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:45:04.164Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:45:04.164Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock"}}
[debug] [2021-03-22T15:45:04.164Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: BUSY"}}
[debug] [2021-03-22T15:45:04.760Z] [runtime-status] [2449] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:45:04.762Z] [runtime-status] [2449] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:45:04.775Z] [runtime-status] [2449] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:45:04.781Z] [runtime-status] [2449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:45:04.782Z] [runtime-status] [2449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:45:04.790Z] [runtime-status] [2449] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:45:04.791Z] [runtime-status] [2449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:45:04.958Z] [runtime-status] [2449] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:45:04.958Z] [runtime-status] [2449] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:45:04.959Z] [runtime-status] [2449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:45:04.960Z] [runtime-status] [2449] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:45:04.960Z] [runtime-status] [2449] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:45:04.961Z] [runtime-status] [2449] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:45:05.381Z] [runtime-status] [2449] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:45:05.382Z] [runtime-status] [2449] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:45:05.382Z] [runtime-status] [2449] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:45:05.392Z] [runtime-status] [2449] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock"}}
[debug] [2021-03-22T15:45:05.396Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:45:05.397Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-03-22T15:45:05.414Z] [runtime-status] [2449] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Ephemeral server handling POST request"}}
[info] >  payment recived total of  2999 {"user":"payment recived total of  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  2999"}}
[debug] [2021-03-22T15:45:05.432Z] [runtime-status] [2449] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:45:06.359Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: IDLE"}}
[debug] [2021-03-22T15:45:06.360Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:45:56.810Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:45:56.810Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:45:56.810Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-03-22T15:45:56.810Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:45:56.810Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock"}}
[debug] [2021-03-22T15:45:56.811Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: BUSY"}}
[debug] [2021-03-22T15:45:56.811Z] [runtime-status] [2449] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:45:56.812Z] [runtime-status] [2449] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:45:56.812Z] [runtime-status] [2449] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:45:56.812Z] [runtime-status] [2449] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock"}}
[debug] [2021-03-22T15:45:56.814Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:45:56.814Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-03-22T15:45:56.817Z] [runtime-status] [2449] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Ephemeral server handling POST request"}}
[info] >  payment recived total of  2999 {"user":"payment recived total of  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  2999"}}
[debug] [2021-03-22T15:45:56.819Z] [runtime-status] [2449] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:45:57.481Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: IDLE"}}
[debug] [2021-03-22T15:45:57.482Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:46:02.988Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:46:02.988Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:46:02.988Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-22T15:46:02.988Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:46:02.988Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock"}}
[debug] [2021-03-22T15:46:02.988Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: BUSY"}}
[debug] [2021-03-22T15:46:02.989Z] [runtime-status] [2449] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:46:02.990Z] [runtime-status] [2449] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:46:02.990Z] [runtime-status] [2449] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:46:02.990Z] [runtime-status] [2449] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2449.sock"}}
[debug] [2021-03-22T15:46:02.991Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:46:02.991Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-22T15:46:02.994Z] [runtime-status] [2449] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Ephemeral server handling POST request"}}
[info] >  payment recived total of  0 {"user":"payment recived total of  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  0"}}
[debug] [2021-03-22T15:46:02.995Z] [runtime-status] [2449] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2449] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:46:03 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:46:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:46:03 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_0IW7eF2OLiNiuA', {"user":"      'request-id': 'req_0IW7eF2OLiNiuA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_0IW7eF2OLiNiuA',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_0IW7eF2OLiNiuA' {"user":"    requestId: 'req_0IW7eF2OLiNiuA'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_0IW7eF2OLiNiuA'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:46:03 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:46:03 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:46:03 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_0IW7eF2OLiNiuA', {"user":"    'request-id': 'req_0IW7eF2OLiNiuA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_0IW7eF2OLiNiuA',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_0IW7eF2OLiNiuA', {"user":"  requestId: 'req_0IW7eF2OLiNiuA',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_0IW7eF2OLiNiuA',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:46:03.483Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: exited"}}
[debug] [2021-03-22T15:46:03.483Z] [worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-09a9dd6e-c7c4-4416-bf00-3bcc4d748181]: FINISHED"}}
[debug] [2021-03-22T15:46:03.484Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:46:13.614Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:46:13.615Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:46:13.615Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998 --> api
[debug] [2021-03-22T15:46:13.615Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:46:13.626Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:46:13.626Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:46:13.627Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:46:13.627Z] [worker-api-f2f4766e-2dd3-4b00-bc94-9f9c08ac4f25]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2465.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f2f4766e-2dd3-4b00-bc94-9f9c08ac4f25]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2465.sock"}}
[debug] [2021-03-22T15:46:13.627Z] [worker-api-f2f4766e-2dd3-4b00-bc94-9f9c08ac4f25]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f2f4766e-2dd3-4b00-bc94-9f9c08ac4f25]: BUSY"}}
[debug] [2021-03-22T15:46:14.269Z] [runtime-status] [2465] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:46:14.277Z] [runtime-status] [2465] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:46:14.283Z] [runtime-status] [2465] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:14.285Z] [runtime-status] [2465] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:14.287Z] [runtime-status] [2465] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:14.298Z] [runtime-status] [2465] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:46:14.300Z] [runtime-status] [2465] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:14.416Z] [runtime-status] [2465] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:46:14.417Z] [runtime-status] [2465] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:46:14.418Z] [runtime-status] [2465] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:14.422Z] [runtime-status] [2465] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:14.425Z] [runtime-status] [2465] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:14.426Z] [runtime-status] [2465] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:46:14.795Z] [runtime-status] [2465] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:46:14.796Z] [runtime-status] [2465] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:46:14.796Z] [runtime-status] [2465] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:46:14.806Z] [runtime-status] [2465] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2465.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2465.sock"}}
[debug] [2021-03-22T15:46:14.810Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:46:14.810Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998"}}
[debug] [2021-03-22T15:46:14.828Z] [runtime-status] [2465] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Ephemeral server handling POST request"}}
[info] >  payment recived total of  1998.9999999999998 {"user":"payment recived total of  1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  1998.9999999999998"}}
[debug] [2021-03-22T15:46:14.858Z] [runtime-status] [2465] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2465] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 1998.9999999999998 {"user":"StripeInvalidRequestError: Invalid integer: 1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 1998.9999999999998"}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 1998.9999999999998', {"user":"    message: 'Invalid integer: 1998.9999999999998',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 1998.9999999999998',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:46:15 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:46:15 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:46:15 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '255', {"user":"      'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '255',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_TtZbzlM5OMbRIH', {"user":"      'request-id': 'req_TtZbzlM5OMbRIH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_TtZbzlM5OMbRIH',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_TtZbzlM5OMbRIH' {"user":"    requestId: 'req_TtZbzlM5OMbRIH'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_TtZbzlM5OMbRIH'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:46:15 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:46:15 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:46:15 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '255', {"user":"    'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '255',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_TtZbzlM5OMbRIH', {"user":"    'request-id': 'req_TtZbzlM5OMbRIH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_TtZbzlM5OMbRIH',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_TtZbzlM5OMbRIH', {"user":"  requestId: 'req_TtZbzlM5OMbRIH',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_TtZbzlM5OMbRIH',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:46:15.733Z] [worker-api-f2f4766e-2dd3-4b00-bc94-9f9c08ac4f25]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f2f4766e-2dd3-4b00-bc94-9f9c08ac4f25]: exited"}}
[debug] [2021-03-22T15:46:15.733Z] [worker-api-f2f4766e-2dd3-4b00-bc94-9f9c08ac4f25]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f2f4766e-2dd3-4b00-bc94-9f9c08ac4f25]: FINISHED"}}
[debug] [2021-03-22T15:46:15.733Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:46:39.282Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:46:39.282Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:46:39.282Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998 --> api
[debug] [2021-03-22T15:46:39.282Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:46:39.290Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:46:39.291Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:46:39.291Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:46:39.291Z] [worker-api-224878c9-3d0b-4278-981b-99aff58e331f]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2471.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-224878c9-3d0b-4278-981b-99aff58e331f]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2471.sock"}}
[debug] [2021-03-22T15:46:39.291Z] [worker-api-224878c9-3d0b-4278-981b-99aff58e331f]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-224878c9-3d0b-4278-981b-99aff58e331f]: BUSY"}}
[debug] [2021-03-22T15:46:39.467Z] [runtime-status] [2471] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:46:39.469Z] [runtime-status] [2471] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:46:39.471Z] [runtime-status] [2471] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:39.473Z] [runtime-status] [2471] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:39.474Z] [runtime-status] [2471] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:39.477Z] [runtime-status] [2471] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:46:39.478Z] [runtime-status] [2471] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:39.533Z] [runtime-status] [2471] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:46:39.534Z] [runtime-status] [2471] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:46:39.534Z] [runtime-status] [2471] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:39.536Z] [runtime-status] [2471] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:39.537Z] [runtime-status] [2471] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:46:39.539Z] [runtime-status] [2471] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:46:39.670Z] [runtime-status] [2471] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:46:39.671Z] [runtime-status] [2471] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:46:39.671Z] [runtime-status] [2471] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:46:39.676Z] [runtime-status] [2471] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2471.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2471.sock"}}
[debug] [2021-03-22T15:46:39.681Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:46:39.681Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998"}}
[debug] [2021-03-22T15:46:39.696Z] [runtime-status] [2471] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Ephemeral server handling POST request"}}
[info] >  payment recived total of  1998.9999999999998 {"user":"payment recived total of  1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  1998.9999999999998"}}
[debug] [2021-03-22T15:46:39.712Z] [runtime-status] [2471] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2471] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 1998.9999999999998 {"user":"StripeInvalidRequestError: Invalid integer: 1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 1998.9999999999998"}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 1998.9999999999998', {"user":"    message: 'Invalid integer: 1998.9999999999998',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 1998.9999999999998',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:46:40 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:46:40 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:46:40 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '255', {"user":"      'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '255',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_cJNEESbEBgGTqd', {"user":"      'request-id': 'req_cJNEESbEBgGTqd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_cJNEESbEBgGTqd',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_cJNEESbEBgGTqd' {"user":"    requestId: 'req_cJNEESbEBgGTqd'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_cJNEESbEBgGTqd'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:46:40 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:46:40 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:46:40 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '255', {"user":"    'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '255',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_cJNEESbEBgGTqd', {"user":"    'request-id': 'req_cJNEESbEBgGTqd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_cJNEESbEBgGTqd',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_cJNEESbEBgGTqd', {"user":"  requestId: 'req_cJNEESbEBgGTqd',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_cJNEESbEBgGTqd',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:46:40.591Z] [worker-api-224878c9-3d0b-4278-981b-99aff58e331f]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-224878c9-3d0b-4278-981b-99aff58e331f]: exited"}}
[debug] [2021-03-22T15:46:40.591Z] [worker-api-224878c9-3d0b-4278-981b-99aff58e331f]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-224878c9-3d0b-4278-981b-99aff58e331f]: FINISHED"}}
[debug] [2021-03-22T15:46:40.592Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:47:02.833Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:47:02.833Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:47:02.833Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-22T15:47:02.833Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:47:02.839Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:47:02.840Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:47:02.840Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:47:02.840Z] [worker-api-e8ecaa34-9ef8-4c5d-a586-3d7e2da93dcc]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2479.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8ecaa34-9ef8-4c5d-a586-3d7e2da93dcc]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2479.sock"}}
[debug] [2021-03-22T15:47:02.840Z] [worker-api-e8ecaa34-9ef8-4c5d-a586-3d7e2da93dcc]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8ecaa34-9ef8-4c5d-a586-3d7e2da93dcc]: BUSY"}}
[debug] [2021-03-22T15:47:03.208Z] [runtime-status] [2479] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:47:03.211Z] [runtime-status] [2479] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:47:03.223Z] [runtime-status] [2479] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:03.226Z] [runtime-status] [2479] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:03.231Z] [runtime-status] [2479] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:03.241Z] [runtime-status] [2479] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:47:03.242Z] [runtime-status] [2479] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:03.386Z] [runtime-status] [2479] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:47:03.387Z] [runtime-status] [2479] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:47:03.389Z] [runtime-status] [2479] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:03.392Z] [runtime-status] [2479] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:03.397Z] [runtime-status] [2479] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:03.398Z] [runtime-status] [2479] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:47:03.646Z] [runtime-status] [2479] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:47:03.647Z] [runtime-status] [2479] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:47:03.647Z] [runtime-status] [2479] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:47:03.660Z] [runtime-status] [2479] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2479.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2479.sock"}}
[debug] [2021-03-22T15:47:03.665Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:47:03.665Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-22T15:47:03.682Z] [runtime-status] [2479] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Ephemeral server handling POST request"}}
[info] >  payment recived total of  0 {"user":"payment recived total of  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  0"}}
[debug] [2021-03-22T15:47:03.743Z] [runtime-status] [2479] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2479] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:47:04 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:47:04 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:47:04 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_7T5UiTfe2X2QiK', {"user":"      'request-id': 'req_7T5UiTfe2X2QiK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_7T5UiTfe2X2QiK',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_7T5UiTfe2X2QiK' {"user":"    requestId: 'req_7T5UiTfe2X2QiK'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_7T5UiTfe2X2QiK'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:47:04 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:47:04 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:47:04 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_7T5UiTfe2X2QiK', {"user":"    'request-id': 'req_7T5UiTfe2X2QiK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_7T5UiTfe2X2QiK',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_7T5UiTfe2X2QiK', {"user":"  requestId: 'req_7T5UiTfe2X2QiK',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_7T5UiTfe2X2QiK',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:47:04.845Z] [worker-api-e8ecaa34-9ef8-4c5d-a586-3d7e2da93dcc]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8ecaa34-9ef8-4c5d-a586-3d7e2da93dcc]: exited"}}
[debug] [2021-03-22T15:47:04.845Z] [worker-api-e8ecaa34-9ef8-4c5d-a586-3d7e2da93dcc]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e8ecaa34-9ef8-4c5d-a586-3d7e2da93dcc]: FINISHED"}}
[debug] [2021-03-22T15:47:04.845Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:47:11.346Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:47:11.346Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:47:11.346Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=49999 --> api
[debug] [2021-03-22T15:47:11.346Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:47:11.359Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:47:11.359Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:47:11.359Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:47:11.359Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock"}}
[debug] [2021-03-22T15:47:11.359Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: BUSY"}}
[debug] [2021-03-22T15:47:11.754Z] [runtime-status] [2485] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:47:11.755Z] [runtime-status] [2485] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:47:11.758Z] [runtime-status] [2485] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:11.760Z] [runtime-status] [2485] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:11.761Z] [runtime-status] [2485] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:11.763Z] [runtime-status] [2485] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:47:11.764Z] [runtime-status] [2485] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:11.816Z] [runtime-status] [2485] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:47:11.816Z] [runtime-status] [2485] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:47:11.816Z] [runtime-status] [2485] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:11.818Z] [runtime-status] [2485] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:11.820Z] [runtime-status] [2485] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:47:11.820Z] [runtime-status] [2485] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:47:11.952Z] [runtime-status] [2485] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:47:11.953Z] [runtime-status] [2485] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:47:11.953Z] [runtime-status] [2485] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:47:11.963Z] [runtime-status] [2485] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock"}}
[debug] [2021-03-22T15:47:11.968Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:47:11.968Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=49999, mapping to path=/payments/create?total=49999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=49999, mapping to path=/payments/create?total=49999"}}
[debug] [2021-03-22T15:47:12.015Z] [runtime-status] [2485] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Ephemeral server handling POST request"}}
[info] >  payment recived total of  49999 {"user":"payment recived total of  49999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  49999"}}
[debug] [2021-03-22T15:47:12.037Z] [runtime-status] [2485] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:47:12.979Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: IDLE"}}
[debug] [2021-03-22T15:47:12.979Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:50:11.759Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:50:11.759Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:50:11.759Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=49999 --> api
[debug] [2021-03-22T15:50:11.759Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:50:11.759Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock"}}
[debug] [2021-03-22T15:50:11.759Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: BUSY"}}
[debug] [2021-03-22T15:50:11.760Z] [runtime-status] [2485] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:50:11.760Z] [runtime-status] [2485] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:50:11.761Z] [runtime-status] [2485] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:50:11.761Z] [runtime-status] [2485] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock"}}
[debug] [2021-03-22T15:50:11.763Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:50:11.763Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=49999, mapping to path=/payments/create?total=49999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=49999, mapping to path=/payments/create?total=49999"}}
[debug] [2021-03-22T15:50:11.769Z] [runtime-status] [2485] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Ephemeral server handling POST request"}}
[debug] [2021-03-22T15:50:11.769Z] [runtime-status] [2485] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Ephemeral server survived."}}
[info] >  payment recived total of  49999 {"user":"payment recived total of  49999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  49999"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:50:12.852Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: IDLE"}}
[debug] [2021-03-22T15:50:12.853Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:50:28.537Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:50:28.538Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:50:28.538Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-22T15:50:28.538Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:50:28.538Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock"}}
[debug] [2021-03-22T15:50:28.538Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: BUSY"}}
[debug] [2021-03-22T15:50:28.540Z] [runtime-status] [2485] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:50:28.541Z] [runtime-status] [2485] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:50:28.541Z] [runtime-status] [2485] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:50:28.541Z] [runtime-status] [2485] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2485.sock"}}
[debug] [2021-03-22T15:50:28.542Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:50:28.542Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-22T15:50:28.547Z] [runtime-status] [2485] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Ephemeral server handling POST request"}}
[debug] [2021-03-22T15:50:28.547Z] [runtime-status] [2485] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2485] Ephemeral server survived."}}
[info] >  payment recived total of  0 {"user":"payment recived total of  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  0"}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:50:28 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:50:28 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:50:28 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_MpcNg2OYCHq23V', {"user":"      'request-id': 'req_MpcNg2OYCHq23V',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_MpcNg2OYCHq23V',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_MpcNg2OYCHq23V' {"user":"    requestId: 'req_MpcNg2OYCHq23V'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_MpcNg2OYCHq23V'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:50:28 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:50:28 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:50:28 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_MpcNg2OYCHq23V', {"user":"    'request-id': 'req_MpcNg2OYCHq23V',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_MpcNg2OYCHq23V',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_MpcNg2OYCHq23V', {"user":"  requestId: 'req_MpcNg2OYCHq23V',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_MpcNg2OYCHq23V',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:50:28.975Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: exited"}}
[debug] [2021-03-22T15:50:28.976Z] [worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-713e239f-350a-4f77-97c2-86bf1d58201e]: FINISHED"}}
[debug] [2021-03-22T15:50:28.976Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:50:41.856Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:50:41.856Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:50:41.856Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998 --> api
[debug] [2021-03-22T15:50:41.857Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:50:41.866Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:50:41.867Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:50:41.867Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:50:41.867Z] [worker-api-4396dbd9-2c9b-43a2-abee-b5053681d538]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2549.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4396dbd9-2c9b-43a2-abee-b5053681d538]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2549.sock"}}
[debug] [2021-03-22T15:50:41.867Z] [worker-api-4396dbd9-2c9b-43a2-abee-b5053681d538]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4396dbd9-2c9b-43a2-abee-b5053681d538]: BUSY"}}
[debug] [2021-03-22T15:50:43.056Z] [runtime-status] [2549] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:50:43.058Z] [runtime-status] [2549] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:50:43.067Z] [runtime-status] [2549] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:50:43.071Z] [runtime-status] [2549] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:50:43.073Z] [runtime-status] [2549] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:50:43.075Z] [runtime-status] [2549] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:50:43.076Z] [runtime-status] [2549] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:50:43.225Z] [runtime-status] [2549] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:50:43.225Z] [runtime-status] [2549] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:50:43.226Z] [runtime-status] [2549] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:50:43.227Z] [runtime-status] [2549] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:50:43.230Z] [runtime-status] [2549] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:50:43.230Z] [runtime-status] [2549] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:50:43.634Z] [runtime-status] [2549] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:50:43.635Z] [runtime-status] [2549] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:50:43.635Z] [runtime-status] [2549] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:50:43.649Z] [runtime-status] [2549] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2549.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2549.sock"}}
[debug] [2021-03-22T15:50:43.650Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:50:43.650Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998"}}
[debug] [2021-03-22T15:50:43.662Z] [runtime-status] [2549] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Ephemeral server handling POST request"}}
[info] >  payment recived total of  1998.9999999999998 {"user":"payment recived total of  1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  1998.9999999999998"}}
[debug] [2021-03-22T15:50:43.694Z] [runtime-status] [2549] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2549] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 1998.9999999999998 {"user":"StripeInvalidRequestError: Invalid integer: 1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 1998.9999999999998"}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 1998.9999999999998', {"user":"    message: 'Invalid integer: 1998.9999999999998',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 1998.9999999999998',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:50:44 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:50:44 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:50:44 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '255', {"user":"      'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '255',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_XpibQy75pKt5an', {"user":"      'request-id': 'req_XpibQy75pKt5an',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_XpibQy75pKt5an',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_XpibQy75pKt5an' {"user":"    requestId: 'req_XpibQy75pKt5an'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_XpibQy75pKt5an'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:50:44 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:50:44 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:50:44 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '255', {"user":"    'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '255',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_XpibQy75pKt5an', {"user":"    'request-id': 'req_XpibQy75pKt5an',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_XpibQy75pKt5an',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_XpibQy75pKt5an', {"user":"  requestId: 'req_XpibQy75pKt5an',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_XpibQy75pKt5an',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:50:44.863Z] [worker-api-4396dbd9-2c9b-43a2-abee-b5053681d538]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4396dbd9-2c9b-43a2-abee-b5053681d538]: exited"}}
[debug] [2021-03-22T15:50:44.863Z] [worker-api-4396dbd9-2c9b-43a2-abee-b5053681d538]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4396dbd9-2c9b-43a2-abee-b5053681d538]: FINISHED"}}
[debug] [2021-03-22T15:50:44.863Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:51:41.786Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:51:41.787Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:51:41.787Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998 --> api
[debug] [2021-03-22T15:51:41.787Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:51:41.802Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:51:41.803Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:51:41.803Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:51:41.803Z] [worker-api-939517e6-f5c6-47a1-8d2a-aaca617ed7e0]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2586.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-939517e6-f5c6-47a1-8d2a-aaca617ed7e0]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2586.sock"}}
[debug] [2021-03-22T15:51:41.803Z] [worker-api-939517e6-f5c6-47a1-8d2a-aaca617ed7e0]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-939517e6-f5c6-47a1-8d2a-aaca617ed7e0]: BUSY"}}
[debug] [2021-03-22T15:51:42.522Z] [runtime-status] [2586] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:51:42.528Z] [runtime-status] [2586] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:51:42.550Z] [runtime-status] [2586] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:42.554Z] [runtime-status] [2586] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:42.556Z] [runtime-status] [2586] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:42.559Z] [runtime-status] [2586] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:51:42.561Z] [runtime-status] [2586] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:42.703Z] [runtime-status] [2586] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:51:42.704Z] [runtime-status] [2586] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:51:42.705Z] [runtime-status] [2586] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:42.706Z] [runtime-status] [2586] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:42.706Z] [runtime-status] [2586] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:42.707Z] [runtime-status] [2586] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:51:43.197Z] [runtime-status] [2586] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:51:43.198Z] [runtime-status] [2586] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:51:43.198Z] [runtime-status] [2586] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:51:43.210Z] [runtime-status] [2586] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2586.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2586.sock"}}
[debug] [2021-03-22T15:51:43.214Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:51:43.214Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998"}}
[debug] [2021-03-22T15:51:43.236Z] [runtime-status] [2586] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Ephemeral server handling POST request"}}
[info] >  payment recived total of  1998.9999999999998 {"user":"payment recived total of  1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  1998.9999999999998"}}
[debug] [2021-03-22T15:51:43.350Z] [runtime-status] [2586] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2586] Ephemeral server survived."}}
[debug] [2021-03-22T15:51:43.774Z] [work-queue] {"queueLength":1,"workRunningCount":1}
[debug] [2021-03-22T15:51:43.774Z] [work-queue] {"queueLength":0,"workRunningCount":2}
[debug] [2021-03-22T15:51:43.774Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998 --> api
[debug] [2021-03-22T15:51:43.780Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:51:43.780Z] [worker-pool] Adding worker with key api, total=2 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=2"}}
[debug] [2021-03-22T15:51:43.781Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:51:43.781Z] [worker-api-4bf657ac-cc74-446d-b181-fb2f99606629]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2594.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4bf657ac-cc74-446d-b181-fb2f99606629]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2594.sock"}}
[debug] [2021-03-22T15:51:43.781Z] [worker-api-4bf657ac-cc74-446d-b181-fb2f99606629]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4bf657ac-cc74-446d-b181-fb2f99606629]: BUSY"}}
[debug] [2021-03-22T15:51:44.119Z] [runtime-status] [2594] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:51:44.132Z] [runtime-status] [2594] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:51:44.136Z] [runtime-status] [2594] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:44.144Z] [runtime-status] [2594] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:44.147Z] [runtime-status] [2594] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:44.151Z] [runtime-status] [2594] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:51:44.152Z] [runtime-status] [2594] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:44.247Z] [runtime-status] [2594] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:51:44.248Z] [runtime-status] [2594] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:51:44.250Z] [runtime-status] [2594] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:44.251Z] [runtime-status] [2594] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:44.252Z] [runtime-status] [2594] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:44.253Z] [runtime-status] [2594] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:51:44.391Z] [runtime-status] [2594] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:51:44.392Z] [runtime-status] [2594] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:51:44.392Z] [runtime-status] [2594] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:51:44.399Z] [runtime-status] [2594] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2594.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2594.sock"}}
[debug] [2021-03-22T15:51:44.403Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:51:44.403Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=1998.9999999999998, mapping to path=/payments/create?total=1998.9999999999998"}}
[debug] [2021-03-22T15:51:44.414Z] [runtime-status] [2594] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Ephemeral server handling POST request"}}
[info] >  payment recived total of  1998.9999999999998 {"user":"payment recived total of  1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  1998.9999999999998"}}
[debug] [2021-03-22T15:51:44.438Z] [runtime-status] [2594] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2594] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 1998.9999999999998 {"user":"StripeInvalidRequestError: Invalid integer: 1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 1998.9999999999998"}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 1998.9999999999998', {"user":"    message: 'Invalid integer: 1998.9999999999998',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 1998.9999999999998',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:51:44 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:51:44 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:51:44 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '255', {"user":"      'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '255',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_V1SSuX3f5Bhszx', {"user":"      'request-id': 'req_V1SSuX3f5Bhszx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_V1SSuX3f5Bhszx',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_V1SSuX3f5Bhszx' {"user":"    requestId: 'req_V1SSuX3f5Bhszx'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_V1SSuX3f5Bhszx'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:51:44 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:51:44 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:51:44 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '255', {"user":"    'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '255',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_V1SSuX3f5Bhszx', {"user":"    'request-id': 'req_V1SSuX3f5Bhszx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_V1SSuX3f5Bhszx',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_V1SSuX3f5Bhszx', {"user":"  requestId: 'req_V1SSuX3f5Bhszx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_V1SSuX3f5Bhszx',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:51:44.516Z] [worker-api-939517e6-f5c6-47a1-8d2a-aaca617ed7e0]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-939517e6-f5c6-47a1-8d2a-aaca617ed7e0]: exited"}}
[debug] [2021-03-22T15:51:44.517Z] [worker-api-939517e6-f5c6-47a1-8d2a-aaca617ed7e0]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-939517e6-f5c6-47a1-8d2a-aaca617ed7e0]: FINISHED"}}
[debug] [2021-03-22T15:51:44.517Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: Invalid integer: 1998.9999999999998 {"user":"StripeInvalidRequestError: Invalid integer: 1998.9999999999998","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: Invalid integer: 1998.9999999999998"}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'Invalid integer: 1998.9999999999998', {"user":"    message: 'Invalid integer: 1998.9999999999998',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'Invalid integer: 1998.9999999999998',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:51:45 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:51:45 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:51:45 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '255', {"user":"      'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '255',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_JnpKwZo6a3vSAX', {"user":"      'request-id': 'req_JnpKwZo6a3vSAX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_JnpKwZo6a3vSAX',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_JnpKwZo6a3vSAX' {"user":"    requestId: 'req_JnpKwZo6a3vSAX'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_JnpKwZo6a3vSAX'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:51:45 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:51:45 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:51:45 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '255', {"user":"    'content-length': '255',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '255',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_JnpKwZo6a3vSAX', {"user":"    'request-id': 'req_JnpKwZo6a3vSAX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_JnpKwZo6a3vSAX',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_JnpKwZo6a3vSAX', {"user":"  requestId: 'req_JnpKwZo6a3vSAX',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_JnpKwZo6a3vSAX',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:51:45.231Z] [worker-api-4bf657ac-cc74-446d-b181-fb2f99606629]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4bf657ac-cc74-446d-b181-fb2f99606629]: exited"}}
[debug] [2021-03-22T15:51:45.231Z] [worker-api-4bf657ac-cc74-446d-b181-fb2f99606629]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-4bf657ac-cc74-446d-b181-fb2f99606629]: FINISHED"}}
[debug] [2021-03-22T15:51:45.231Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:51:51.710Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:51:51.711Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:51:51.711Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=0 --> api
[debug] [2021-03-22T15:51:51.711Z] [worker-pool] Cleaned up workers for api: 2 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 2 --> 0"}}
[debug] [2021-03-22T15:51:51.718Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:51:51.718Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:51:51.718Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:51:51.718Z] [worker-api-e4b289f1-95a2-4d19-a60f-e5985470e2fe]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2605.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4b289f1-95a2-4d19-a60f-e5985470e2fe]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2605.sock"}}
[debug] [2021-03-22T15:51:51.719Z] [worker-api-e4b289f1-95a2-4d19-a60f-e5985470e2fe]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4b289f1-95a2-4d19-a60f-e5985470e2fe]: BUSY"}}
[debug] [2021-03-22T15:51:52.262Z] [runtime-status] [2605] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:51:52.267Z] [runtime-status] [2605] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:51:52.271Z] [runtime-status] [2605] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:52.274Z] [runtime-status] [2605] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:52.277Z] [runtime-status] [2605] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:52.282Z] [runtime-status] [2605] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:51:52.283Z] [runtime-status] [2605] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:52.534Z] [runtime-status] [2605] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:51:52.536Z] [runtime-status] [2605] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:51:52.541Z] [runtime-status] [2605] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:52.544Z] [runtime-status] [2605] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:52.546Z] [runtime-status] [2605] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:52.547Z] [runtime-status] [2605] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:51:53.141Z] [runtime-status] [2605] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:51:53.141Z] [runtime-status] [2605] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:51:53.142Z] [runtime-status] [2605] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:51:53.172Z] [runtime-status] [2605] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2605.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2605.sock"}}
[debug] [2021-03-22T15:51:53.176Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:51:53.176Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=0, mapping to path=/payments/create?total=0"}}
[debug] [2021-03-22T15:51:53.206Z] [runtime-status] [2605] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Ephemeral server handling POST request"}}
[info] >  payment recived total of  0 {"user":"payment recived total of  0","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  0"}}
[debug] [2021-03-22T15:51:53.242Z] [runtime-status] [2605] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2605] Ephemeral server survived."}}
[info] >  /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40 {"user":"/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m /Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40"}}
[info] >          return new StripeInvalidRequestError(rawStripeError); {"user":"        return new StripeInvalidRequestError(rawStripeError);","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m         return new StripeInvalidRequestError(rawStripeError);"}}
[info] >                 ^ {"user":"               ^","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m                ^"}}
[info] >   {"user":"","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m "}}
[info] >  StripeInvalidRequestError: This value must be greater than or equal to 1. {"user":"StripeInvalidRequestError: This value must be greater than or equal to 1.","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m StripeInvalidRequestError: This value must be greater than or equal to 1."}}
[info] >      at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16) {"user":"    at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Function.generate (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/Error.js:40:16)"}}
[info] >      at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33) {"user":"    at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.<anonymous> (/Users/manuprasad/amazon-clone/functions/node_modules/stripe/lib/StripeResource.js:180:33)"}}
[info] >      at Object.onceWrapper (node:events:484:28) {"user":"    at Object.onceWrapper (node:events:484:28)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at Object.onceWrapper (node:events:484:28)"}}
[info] >      at IncomingMessage.emit (node:events:390:22) {"user":"    at IncomingMessage.emit (node:events:390:22)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at IncomingMessage.emit (node:events:390:22)"}}
[info] >      at endReadableNT (node:internal/streams/readable:1307:12) {"user":"    at endReadableNT (node:internal/streams/readable:1307:12)","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at endReadableNT (node:internal/streams/readable:1307:12)"}}
[info] >      at processTicksAndRejections (node:internal/process/task_queues:81:21) { {"user":"    at processTicksAndRejections (node:internal/process/task_queues:81:21) {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     at processTicksAndRejections (node:internal/process/task_queues:81:21) {"}}
[info] >    type: 'StripeInvalidRequestError', {"user":"  type: 'StripeInvalidRequestError',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   type: 'StripeInvalidRequestError',"}}
[info] >    raw: { {"user":"  raw: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   raw: {"}}
[info] >      code: 'parameter_invalid_integer', {"user":"    code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     code: 'parameter_invalid_integer',"}}
[info] >      doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >      message: 'This value must be greater than or equal to 1.', {"user":"    message: 'This value must be greater than or equal to 1.',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     message: 'This value must be greater than or equal to 1.',"}}
[info] >      param: 'amount', {"user":"    param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     param: 'amount',"}}
[info] >      type: 'invalid_request_error', {"user":"    type: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     type: 'invalid_request_error',"}}
[info] >      headers: { {"user":"    headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     headers: {"}}
[info] >        server: 'nginx', {"user":"      server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       server: 'nginx',"}}
[info] >        date: 'Mon, 22 Mar 2021 15:51:53 GMT', {"user":"      date: 'Mon, 22 Mar 2021 15:51:53 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       date: 'Mon, 22 Mar 2021 15:51:53 GMT',"}}
[info] >        'content-type': 'application/json', {"user":"      'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-type': 'application/json',"}}
[info] >        'content-length': '266', {"user":"      'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'content-length': '266',"}}
[info] >        connection: 'keep-alive', {"user":"      connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       connection: 'keep-alive',"}}
[info] >        'access-control-allow-credentials': 'true', {"user":"      'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-credentials': 'true',"}}
[info] >        'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >        'access-control-allow-origin': '*', {"user":"      'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-allow-origin': '*',"}}
[info] >        'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >        'access-control-max-age': '300', {"user":"      'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'access-control-max-age': '300',"}}
[info] >        'cache-control': 'no-cache, no-store', {"user":"      'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'cache-control': 'no-cache, no-store',"}}
[info] >        'request-id': 'req_KHsF0bY5rg6pQi', {"user":"      'request-id': 'req_KHsF0bY5rg6pQi',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'request-id': 'req_KHsF0bY5rg6pQi',"}}
[info] >        'stripe-version': '2020-08-27', {"user":"      'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'stripe-version': '2020-08-27',"}}
[info] >        'x-stripe-c-cost': '0', {"user":"      'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'x-stripe-c-cost': '0',"}}
[info] >        'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m       'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >      }, {"user":"    },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     },"}}
[info] >      statusCode: 400, {"user":"    statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     statusCode: 400,"}}
[info] >      requestId: 'req_KHsF0bY5rg6pQi' {"user":"    requestId: 'req_KHsF0bY5rg6pQi'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     requestId: 'req_KHsF0bY5rg6pQi'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    rawType: 'invalid_request_error', {"user":"  rawType: 'invalid_request_error',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   rawType: 'invalid_request_error',"}}
[info] >    code: 'parameter_invalid_integer', {"user":"  code: 'parameter_invalid_integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   code: 'parameter_invalid_integer',"}}
[info] >    doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer', {"user":"  doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   doc_url: 'https://stripe.com/docs/error-codes/parameter-invalid-integer',"}}
[info] >    param: 'amount', {"user":"  param: 'amount',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   param: 'amount',"}}
[info] >    detail: undefined, {"user":"  detail: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   detail: undefined,"}}
[info] >    headers: { {"user":"  headers: {","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   headers: {"}}
[info] >      server: 'nginx', {"user":"    server: 'nginx',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     server: 'nginx',"}}
[info] >      date: 'Mon, 22 Mar 2021 15:51:53 GMT', {"user":"    date: 'Mon, 22 Mar 2021 15:51:53 GMT',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     date: 'Mon, 22 Mar 2021 15:51:53 GMT',"}}
[info] >      'content-type': 'application/json', {"user":"    'content-type': 'application/json',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-type': 'application/json',"}}
[info] >      'content-length': '266', {"user":"    'content-length': '266',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'content-length': '266',"}}
[info] >      connection: 'keep-alive', {"user":"    connection: 'keep-alive',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     connection: 'keep-alive',"}}
[info] >      'access-control-allow-credentials': 'true', {"user":"    'access-control-allow-credentials': 'true',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-credentials': 'true',"}}
[info] >      'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE', {"user":"    'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-methods': 'GET, POST, HEAD, OPTIONS, DELETE',"}}
[info] >      'access-control-allow-origin': '*', {"user":"    'access-control-allow-origin': '*',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-allow-origin': '*',"}}
[info] >      'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required', {"user":"    'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-expose-headers': 'Request-Id, Stripe-Manage-Version, X-Stripe-External-Auth-Required, X-Stripe-Privileged-Session-Required',"}}
[info] >      'access-control-max-age': '300', {"user":"    'access-control-max-age': '300',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'access-control-max-age': '300',"}}
[info] >      'cache-control': 'no-cache, no-store', {"user":"    'cache-control': 'no-cache, no-store',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'cache-control': 'no-cache, no-store',"}}
[info] >      'request-id': 'req_KHsF0bY5rg6pQi', {"user":"    'request-id': 'req_KHsF0bY5rg6pQi',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'request-id': 'req_KHsF0bY5rg6pQi',"}}
[info] >      'stripe-version': '2020-08-27', {"user":"    'stripe-version': '2020-08-27',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'stripe-version': '2020-08-27',"}}
[info] >      'x-stripe-c-cost': '0', {"user":"    'x-stripe-c-cost': '0',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'x-stripe-c-cost': '0',"}}
[info] >      'strict-transport-security': 'max-age=31556926; includeSubDomains; preload' {"user":"    'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m     'strict-transport-security': 'max-age=31556926; includeSubDomains; preload'"}}
[info] >    }, {"user":"  },","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   },"}}
[info] >    requestId: 'req_KHsF0bY5rg6pQi', {"user":"  requestId: 'req_KHsF0bY5rg6pQi',","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   requestId: 'req_KHsF0bY5rg6pQi',"}}
[info] >    statusCode: 400, {"user":"  statusCode: 400,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   statusCode: 400,"}}
[info] >    charge: undefined, {"user":"  charge: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   charge: undefined,"}}
[info] >    decline_code: undefined, {"user":"  decline_code: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   decline_code: undefined,"}}
[info] >    payment_intent: undefined, {"user":"  payment_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_intent: undefined,"}}
[info] >    payment_method: undefined, {"user":"  payment_method: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method: undefined,"}}
[info] >    payment_method_type: undefined, {"user":"  payment_method_type: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   payment_method_type: undefined,"}}
[info] >    setup_intent: undefined, {"user":"  setup_intent: undefined,","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   setup_intent: undefined,"}}
[info] >    source: undefined {"user":"  source: undefined","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m   source: undefined"}}
[info] >  } {"user":"}","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m }"}}
[debug] [2021-03-22T15:51:54.183Z] [worker-api-e4b289f1-95a2-4d19-a60f-e5985470e2fe]: exited {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4b289f1-95a2-4d19-a60f-e5985470e2fe]: exited"}}
[debug] [2021-03-22T15:51:54.183Z] [worker-api-e4b289f1-95a2-4d19-a60f-e5985470e2fe]: FINISHED {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-e4b289f1-95a2-4d19-a60f-e5985470e2fe]: FINISHED"}}
[debug] [2021-03-22T15:51:54.183Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:51:57.532Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:51:57.532Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:51:57.532Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-03-22T15:51:57.532Z] [worker-pool] Cleaned up workers for api: 1 --> 0 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Cleaned up workers for api: 1 --> 0"}}
[debug] [2021-03-22T15:51:57.541Z] [worker-pool] addWorker(api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] addWorker(api)"}}
[debug] [2021-03-22T15:51:57.541Z] [worker-pool] Adding worker with key api, total=1 {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] Adding worker with key api, total=1"}}
[debug] [2021-03-22T15:51:57.541Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:51:57.541Z] [worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2612.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2612.sock"}}
[debug] [2021-03-22T15:51:57.541Z] [worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: BUSY"}}
[debug] [2021-03-22T15:51:57.902Z] [runtime-status] [2612] Functions runtime initialized. {"cwd":"/Users/manuprasad/amazon-clone/functions","node_version":"15.9.0"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Functions runtime initialized. {\"cwd\":\"/Users/manuprasad/amazon-clone/functions\",\"node_version\":\"15.9.0\"}"}}
[debug] [2021-03-22T15:51:57.912Z] [runtime-status] [2612] Disabled runtime features: undefined {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Disabled runtime features: undefined"}}
[debug] [2021-03-22T15:51:57.919Z] [runtime-status] [2612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:57.923Z] [runtime-status] [2612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:57.927Z] [runtime-status] [2612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:57.932Z] [runtime-status] [2612] Outgoing network have been stubbed. [{"name":"http","status":"mocked"},{"name":"http","status":"mocked"},{"name":"https","status":"mocked"},{"name":"https","status":"mocked"},{"name":"net","status":"mocked"}] {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Outgoing network have been stubbed. [{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"http\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"https\",\"status\":\"mocked\"},{\"name\":\"net\",\"status\":\"mocked\"}]"}}
[debug] [2021-03-22T15:51:57.934Z] [runtime-status] [2612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:58.002Z] [runtime-status] [2612] Checked functions.config() {"config":{}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Checked functions.config() {\"config\":{}}"}}
[debug] [2021-03-22T15:51:58.003Z] [runtime-status] [2612] firebase-functions has been stubbed. {"functionsResolution":{"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] firebase-functions has been stubbed. {\"functionsResolution\":{\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}}"}}
[debug] [2021-03-22T15:51:58.005Z] [runtime-status] [2612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:58.007Z] [runtime-status] [2612] Resolved module firebase-admin {"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Resolved module firebase-admin {\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:58.008Z] [runtime-status] [2612] Resolved module firebase-functions {"declared":true,"installed":true,"version":"3.13.2","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Resolved module firebase-functions {\"declared\":true,\"installed\":true,\"version\":\"3.13.2\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-functions/lib/index.js\"}"}}
[debug] [2021-03-22T15:51:58.009Z] [runtime-status] [2612] firebase-admin has been stubbed. {"adminResolution":{"declared":true,"installed":true,"version":"9.5.0","resolution":"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js"}} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] firebase-admin has been stubbed. {\"adminResolution\":{\"declared\":true,\"installed\":true,\"version\":\"9.5.0\",\"resolution\":\"/Users/manuprasad/amazon-clone/functions/node_modules/firebase-admin/lib/index.js\"}}"}}
[debug] [2021-03-22T15:51:58.177Z] [runtime-status] [2612] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:51:58.182Z] [runtime-status] [2612] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:51:58.193Z] [runtime-status] [2612] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:51:58.206Z] [runtime-status] [2612] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2612.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2612.sock"}}
[debug] [2021-03-22T15:51:58.215Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:51:58.215Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-03-22T15:51:58.242Z] [runtime-status] [2612] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Ephemeral server handling POST request"}}
[info] >  payment recived total of  2999 {"user":"payment recived total of  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  2999"}}
[debug] [2021-03-22T15:51:58.275Z] [runtime-status] [2612] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Ephemeral server survived."}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:51:59.231Z] [worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: IDLE"}}
[debug] [2021-03-22T15:51:59.231Z] [work-queue] {"queueLength":0,"workRunningCount":0}
[debug] [2021-03-22T15:55:02.810Z] [work-queue] {"queueLength":1,"workRunningCount":0}
[debug] [2021-03-22T15:55:02.810Z] [work-queue] {"queueLength":0,"workRunningCount":1}
[debug] [2021-03-22T15:55:02.810Z] Accepted request POST /challenge-dcc77/us-central1/api/payments/create?total=2999 --> api
[debug] [2021-03-22T15:55:02.810Z] [worker-pool] submitWork(triggerId=api) {"metadata":{"emulator":{"name":"functions"},"message":"[worker-pool] submitWork(triggerId=api)"}}
[debug] [2021-03-22T15:55:02.811Z] [worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2612.sock {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: Assigning socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2612.sock"}}
[debug] [2021-03-22T15:55:02.811Z] [worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: BUSY {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: BUSY"}}
[debug] [2021-03-22T15:55:02.811Z] [runtime-status] [2612] Trigger "api" has been found, beginning invocation! {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Trigger \"api\" has been found, beginning invocation!"}}
[info] i  functions: Beginning execution of "api" {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Beginning execution of \"api\""}}
[debug] [2021-03-22T15:55:02.812Z] [runtime-status] [2612] triggerDefinition {"httpsTrigger":{},"name":"api","entryPoint":"api"} {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] triggerDefinition {\"httpsTrigger\":{},\"name\":\"api\",\"entryPoint\":\"api\"}"}}
[debug] [2021-03-22T15:55:02.812Z] [runtime-status] [2612] Running api in mode HTTPS {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Running api in mode HTTPS"}}
[debug] [2021-03-22T15:55:02.812Z] [runtime-status] [2612] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2612.sock {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Attempting to listen to socketPath: /var/folders/pq/s8znzd8n5d10wqc0m9kxdfs80000gn/T/fire_emu_2612.sock"}}
[debug] [2021-03-22T15:55:02.814Z] [functions] Runtime ready! Sending request! {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Runtime ready! Sending request!"}}
[debug] [2021-03-22T15:55:02.816Z] [functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999 {"metadata":{"emulator":{"name":"functions"},"message":"[functions] Got req.url=/challenge-dcc77/us-central1/api/payments/create?total=2999, mapping to path=/payments/create?total=2999"}}
[debug] [2021-03-22T15:55:02.827Z] [runtime-status] [2612] Ephemeral server handling POST request {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Ephemeral server handling POST request"}}
[debug] [2021-03-22T15:55:02.827Z] [runtime-status] [2612] Ephemeral server survived. {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"[runtime-status] [2612] Ephemeral server survived."}}
[info] >  payment recived total of  2999 {"user":"payment recived total of  2999","metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"\u001b[90m> \u001b[39m payment recived total of  2999"}}
[info] i  functions: Finished "api" in ~1s {"metadata":{"emulator":{"name":"functions"},"function":{"name":"api"},"message":"Finished \"api\" in ~1s"}}
[debug] [2021-03-22T15:55:03.685Z] [worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: IDLE {"metadata":{"emulator":{"name":"functions"},"message":"[worker-api-f9995e2b-5b2e-4841-988a-ced203b28641]: IDLE"}}
[debug] [2021-03-22T15:55:03.685Z] [work-queue] {"queueLength":0,"workRunningCount":0}
